# 信息收集

在获取一个 Session 之后,我们在内网就已经有了一个立足点,可以进行后续信息收集/横向移动等操作了.

## Session 克隆

+ 操作 Session 过程中可能会由于杀毒软件或网络的原因导致 Session 掉线,在实战会生成多个 Session,然后再进行进一步操作,以免丢失权限.
+ VIPER 中可以使用** Session克隆 **快速的复制多个 Session.

![1610514115550-0b0a2b4e-e740-4509-8e55-d11efda91887.webp](./img/JtGpXwfa58LBGk67/1610514115550-0b0a2b4e-e740-4509-8e55-d11efda91887-465284.webp)

> 还可以将常用的模块加星,模块会在下次打开时置顶
>

+ 这样我们就有多个 Session 了,可以大胆的进行后续操作而不用担心权限丢失.

![1610514148389-577a98e7-7a43-45bf-b375-109f693b9638.webp](./img/JtGpXwfa58LBGk67/1610514148389-577a98e7-7a43-45bf-b375-109f693b9638-316813.webp)

## 权限信息

+ 通过**权限操作-权限信息 **查看 Session 的详细信息,以便于决定后续提权/扫描/信息收集的方向.

![1610514237108-df9af281-c4c6-4310-be38-b7dba9b09857.webp](./img/JtGpXwfa58LBGk67/1610514237108-df9af281-c4c6-4310-be38-b7dba9b09857-008808.webp)

## 文件管理

+ 使用**权限操作**-**文件管理**快捷打开文件浏览器

![1610514259756-9ca5b2e8-f675-4502-bde5-9c553298f33d.webp](./img/JtGpXwfa58LBGk67/1610514259756-9ca5b2e8-f675-4502-bde5-9c553298f33d-894699.webp)

+ 可以在文件浏览器中对文件进行可视化操作,就像操作本地文件一样进行浏览/上传/下载/删除/执行.
+ 下载的文件可以在**文件列表**中查看

![1610514301835-101a02ec-dcde-4ee5-b4da-4167b9dfb461.webp](./img/JtGpXwfa58LBGk67/1610514301835-101a02ec-dcde-4ee5-b4da-4167b9dfb461-102212.webp)

## 命令终端

+ 可以使用**权限操作-命令终端**打开 session 命令行
+ 在下方输入框输入命令,点击下方快捷键快速执行指定命令.点击 help 查看帮助.

> shell + 命令 执行系统命令,如:shell whoami
>

![1610515232469-d211c0f5-9b53-4121-a699-eac175e80d6f.webp](./img/JtGpXwfa58LBGk67/1610515232469-d211c0f5-9b53-4121-a699-eac175e80d6f-053258.webp)

## 主机信息

+ 主机信息中展示已控主机的详细信息,包括 systeminfo,网络连接,进程列表等

![1610515266934-7fd2024f-96c3-44aa-a913-c7e1889732e0.webp](./img/JtGpXwfa58LBGk67/1610515266934-7fd2024f-96c3-44aa-a913-c7e1889732e0-169801.webp)![1610515305279-6b710c83-bab8-4d40-89d1-5a00f1792f65.webp](./img/JtGpXwfa58LBGk67/1610515305279-6b710c83-bab8-4d40-89d1-5a00f1792f65-682219.webp)

+ 点击重新请求按钮会发送请求到已控主机的 Session 中进行信息收集操作,结果缓存到数据库中.
+ 点击读取缓存按钮会读取数据库最新缓存的信息

> 主机信息会展示可能和渗透相关的进程信息,比如 lsass 进程,杀毒软件进程等
>

## 添加备注

+ 在多人协作或者渗透大型内网过程中,我们需要对主机进行一些备注以方便记录

![1610515376755-4131c71d-072a-4d3b-a53c-4385231e454f.webp](./img/JtGpXwfa58LBGk67/1610515376755-4131c71d-072a-4d3b-a53c-4385231e454f-101073.webp)

## 常见问题

+ 为什么有些操作会显示超时?

> 由于网络延时原因实时操作可能不及时,如果超时可以尝试重试操作.
